const nock = require("nock");

nock("https://api.hubapi.com:443", { encodedQueryParams: true })
  .get("/integrations/v1/me", {})
  .query({ hapikey: "a31ef454-1835-4b88-8d3a-eefc0b688ded" })
  .once()
  .reply(
    200,
    {
      portalId: 20858235,
      timeZone: "US/Eastern",
      accountType: "STANDARD",
      currency: "USD",
      utcOffset: "-05:00",
      utcOffsetMilliseconds: -18000000,
    },
    [
      "Date",
      "Tue, 22 Feb 2022 18:24:58 GMT",
      "Content-Type",
      "application/json;charset=utf-8",
      "Content-Length",
      "142",
      "Connection",
      "close",
      "CF-Ray",
      "6e1a411e29e32745-FOR",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains; preload",
      "Vary",
      "Accept-Encoding",
      "CF-Cache-Status",
      "DYNAMIC",
      "Access-Control-Allow-Credentials",
      "false",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "X-HubSpot-Correlation-Id",
      "fd14be81-3aaf-496a-9601-3e6e20ba96b5",
      "X-HubSpot-RateLimit-Daily",
      "250000",
      "X-HubSpot-RateLimit-Daily-Remaining",
      "248275",
      "X-HubSpot-RateLimit-Interval-Milliseconds",
      "10000",
      "X-HubSpot-RateLimit-Max",
      "100",
      "X-HubSpot-RateLimit-Remaining",
      "98",
      "X-HubSpot-RateLimit-Secondly",
      "10",
      "X-HubSpot-RateLimit-Secondly-Remaining",
      "9",
      "X-Trace",
      "2BC0965CA023698ECDA9799E21EE3DEAF88FCA86F1000000000000000000",
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report\\/v3?s=CvsHMSw4gMAC5VenENTS0hD8JqryZkz8g0%2F%2FQaui3Ieo%2BVLcm%2F7JDM3cjqkbDvPZq%2BqUYd6R2aadDLbvWENBM%2FgDZDEfmZuFU87nx7zz8cKlUJA%2F94C8RWD2R0O%2FvUUK"}],"group":"cf-nel","max_age":604800}',
      "NEL",
      '{"success_fraction":0.01,"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "alt-svc",
      'h3=":443"; ma=86400, h3-29=":443"; ma=86400',
    ]
  );
nock("https://auth.grouparoo.com:443", { encodedQueryParams: true })
  .post("/api/v1/oauth/hubspot/client/refresh", {
    refreshToken: "faux-refresh-token",
  })
  .once()
  .reply(
    200,
    [
      "1f8b08000000000000033488db6e82401806df65af4b428d985fef3e96956e5994b0c12a37c40301d12ed443586dfaee4d639d8bc964bed9a53d94864d18574ddae59b9bb2720e882003e06809c0275462e50c4f1ed79c37aa0da3241a448dcc34edf4db78fa998f8f561375de211409d54572af46310008f167f48a02fc5357cf420cce51f4e4600efb58010a4b21fca0872b333f77bede5333a3f5321ede959786b9c1716366d72ec2c0abe385c44705f6c24adbed4febcbbe35badcb6667766935772dd9f5f000000ffff0300c7da0417e0000000",
    ],
    [
      "Date",
      "Tue, 22 Feb 2022 18:24:59 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "Access-Control-Allow-Headers",
      "Content-Type",
      "Access-Control-Allow-Methods",
      "HEAD, GET, POST, PUT, PATCH, DELETE, OPTIONS, TRACE",
      "Access-Control-Allow-Origin",
      "*",
      "X-Powered-By",
      "@grouparoo-inc/telemetry",
      "Set-Cookie",
      "sessionID=a063bbec5201cd663892e23bf5a65df81f3dd6c4;path=/;expires=Tue, 22 Feb 2022 19:24:59 GMT;",
      "Via",
      "1.1 vegur",
      "CF-Cache-Status",
      "DYNAMIC",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report\\/v3?s=yraeW6GaOaNJTgt4eL8zvczMGRnW00XHVdVjLOYfoQe4grmSFkL%2BUzfb97TjZznP%2FUWy2jDxuDrfaO4zkk%2B8jVTa0WMj3CwjU17ntQV%2FMZWys9mxkI642dE6srDl5WDQkWD0vBE%3D"}],"group":"cf-nel","max_age":604800}',
      "NEL",
      '{"success_fraction":0,"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6e1a412088fdf770-GRU",
      "Content-Encoding",
      "gzip",
      "alt-svc",
      'h3=":443"; ma=86400, h3-29=":443"; ma=86400',
    ]
  );
nock("https://api.hubapi.com:443", { encodedQueryParams: true })
  .get("/integrations/v1/me", {})
  .query({})
  .once()
  .reply(
    200,
    {
      portalId: 20858235,
      timeZone: "US/Eastern",
      accountType: "STANDARD",
      currency: "USD",
      utcOffset: "-05:00",
      utcOffsetMilliseconds: -18000000,
    },
    [
      "Date",
      "Tue, 22 Feb 2022 18:24:59 GMT",
      "Content-Type",
      "application/json;charset=utf-8",
      "Content-Length",
      "142",
      "Connection",
      "close",
      "CF-Ray",
      "6e1a41235eabcf9e-FOR",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains; preload",
      "Vary",
      "Accept-Encoding",
      "CF-Cache-Status",
      "DYNAMIC",
      "Access-Control-Allow-Credentials",
      "false",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "X-HubSpot-Correlation-Id",
      "ad84c158-be3f-4ec5-b32a-303c841c54cb",
      "X-HubSpot-RateLimit-Interval-Milliseconds",
      "10000",
      "X-HubSpot-RateLimit-Max",
      "100",
      "X-HubSpot-RateLimit-Remaining",
      "99",
      "X-HubSpot-RateLimit-Secondly",
      "10",
      "X-HubSpot-RateLimit-Secondly-Remaining",
      "9",
      "X-Trace",
      "2B833087114E799E38939A955EE03662D59CE023D9000000000000000000",
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report\\/v3?s=sSNyCwupYSH3GPXqzEOkzfuV7paFnDKCR%2BxbJLMJQCo1hCq6DYQb3mwFf1y7THy1qoiWGEG5ZRTztH1n7jd1K9yxDx8f0b3mCUr2fzndSXKXtvFCpXrEYvnizwAOYHyd"}],"group":"cf-nel","max_age":604800}',
      "NEL",
      '{"success_fraction":0.01,"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "alt-svc",
      'h3=":443"; ma=86400, h3-29=":443"; ma=86400',
    ]
  );
